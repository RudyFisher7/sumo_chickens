[gd_scene load_steps=5 format=3 uid="uid://dv34fpqlspeph"]

[ext_resource type="AudioStream" uid="uid://qx7x3rawebg7" path="res://audio/Imbigger.mp3" id="1_g70yp"]

[sub_resource type="GDScript" id="GDScript_0qotw"]
script/source = "extends Area3D


func _process(delta: float) -> void:
	global_rotate(Vector3.UP, delta)


func _on_body_entered(body: Node3D) -> void:
	if body is Chicken3D:
		body_entered.disconnect(_on_body_entered)
		var chicken: Chicken3D = body as Chicken3D
		
		chicken.sumo_size += 0.25
		
		$MeshInstance3D.hide()
		
		$AudioStreamPlayer.play()
		
		await $AudioStreamPlayer.finished
		queue_free()
"

[sub_resource type="SphereShape3D" id="SphereShape3D_75luc"]

[sub_resource type="PrismMesh" id="PrismMesh_862xp"]

[node name="Area3D" type="Area3D"]
script = SubResource("GDScript_0qotw")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("SphereShape3D_75luc")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = SubResource("PrismMesh_862xp")
skeleton = NodePath("../CollisionShape3D")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("1_g70yp")

[connection signal="body_entered" from="." to="." method="_on_body_entered"]
